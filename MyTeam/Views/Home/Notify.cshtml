@using MyTeam.Models

@model MyTeam.Models.HomeResult
@{
    Layout = null;

    // 如果没有需要提醒的内容，则返回空白，邮件提醒发送程序则不会发送邮件
    var reqInpoolDelayCount = Model.ReqInpoolDelayLS.Count;
    var projDelayCount = Model.ProjDetails.Count;

    if(reqInpoolDelayCount + projDelayCount == 0)
    {
        return;
    }
}
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Notify</title>
</head>
<body style="font-size:14px;font-family:sans-serif">
    <h3 style="font-weight:bold">/////本邮件根据各人负责的系统和项目筛选，只推送了与您相关的内容，敬请关注！/////</h3>
        
    @if (reqInpoolDelayCount != 0)
    {   
        <p style="font-weight:bold">【超8天未入池的需求】</p>
        <table>
            @foreach (HomeReq r in Model.ReqInpoolDelayLS)
            {

                <tr>
                    <td>
                        @r.SysName
                    </td>
                    <td style="text-align:right; padding-left:20px;">
                        @r.ReqNum
                    </td>
                </tr>
            }
        </table>
    }   
        
    @if (projDelayCount != 0)
    {
        <p style="font-weight:bold">【延期项目】</p>
        <table>            
            @foreach (HomeProjDelay r in Model.ProjDetails)
            {
                <tr>
                    <td>
                        @r.ProjName：
                    </td>
                    <td>
                        @r.DelayDetail
                    </td>
                </tr>
            }
        </table>
    }

    @if(Model.NoRlsNoLS.Count != 0)
    {
        <h3>/////为确保能够正确跟踪是否按时下发，请补充下发通知编号（本部分内容未根据个人单独筛选）/////</h3>
        <table>
            @foreach (HomeNoRlsNo r in Model.NoRlsNoLS)
            {
                <tr>
                    <td>
                        @r.SysName
                    </td>
                    <td style="text-align:right; padding-left:20px;">
                        @r.Version 版本
                    </td>
                </tr>
            }
        </table>
    }

</body>
</html>
